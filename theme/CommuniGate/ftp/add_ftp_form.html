<div class="highlight">
<form method="post" action="doaddftp.html" name="mainform" id="mainform">
	<table cellpadding="3" cellspacing="0">
		<tr>
			<td style="width: 125px; text-align: right"><cpanel langprint="FTPLogin"></td>
			<td style="width: 150px"><input type="text" name="login" id="login" style="width: 150px" /></td>
			<td style="width: 100px">@<cpanel print="$CPDATA{'DNS'}"></td>
			<td><div id="login_error"></div></td>
		</tr>
		<tr>
			<td align="right"><cpanel langprint="FTPPassword"></td>
			<td align="left"><input type="password" name="password" id="password" style="width: 150px" /></td>
			<td><div id="password_error"></div></td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td align="right"><cpanel langprint="FTPPasswordAgain"></td>
			<td align="left"><input type="password" name="password2" id="password2" style="width: 150px" /></td>
			<td><div id="password2_error"></div></td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td align="right">
				<cpanel langprint="email_strength"> (<div style="display: inline" id="why_strong_passwords_link" class="action_link"><cpanel langprint="email_why"></div>):
				<div id="why_strong_passwords_text" style="display: none"><cpanel langprint="email_password_why"><br /><br /><cpanel langprint="email_password_tip"></div>
			</td>
			<td><div id="password_strength" style="width: 150px; height: 20px; border: 1px solid black; margin: 5px 0px 3px 0px"></div></td>
			<td colspan="2"><input type="button" id="create_strong_password" value="<cpanel langprint="cjt_password_generator">" tabindex="-1" /></td>
		</tr>
		<tr>
			<td style="text-align: right"><cpanel langprint="FTPDirectory">: <img src="<cpanel MagicRevision="uri("images/homeb.gif")">" alt="home" align="middle" />/</td>
			<td colspan="3">
				<cpanel setvar="autoinput=homedir">
				<cpanel setvar="autodirsonly=1">
				<cpanel setvar="autofunc=dirComplete">
				<script type="text/javascript">
				function dirComplete(inputObj) {modeddir=1;}   
				</script>
				<table cellpadding="0" cellspacing="0" style="padding:0;margin:0;"><tr>
				<td><cpanel relinclude="autodir/dirbox.html"></td>
				</tr></table>
			</td>
		</tr>
		<tr><td colspan="4"><br /></td></tr>
		<tr>
			<td>&nbsp;</td> 
			<td align="left"><input type="submit" class="input-button" id="ftp_create_submit" value="<cpanel langprint="FTPCreate">" /></td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
		</tr>
	</table>
</form>
</div><!-- end highlight -->
<script type="text/javascript">
//<![CDATA[
var REQUIRED_PASSWORD_STRENGTH = parseInt('<?cp PasswdStrength::get_required_strength(%,strength) app=ftp ?>') || 0;
var init_validation = function() {
	var login_validator = new CPANEL.validate.validator("<cpanel Locale="maketext('FTP Login')">");
	login_validator.add("login", "alphanumeric", "<cpanel langprint="FTPUserAlpha">");
	login_validator.add("login", "max_length(%input%, 25)", "<cpanel langprint="FTPMsgUser25Char">");
	login_validator.attach();
	
	var password_validators = CPANEL.password.setup("password", "password2", "password_strength", REQUIRED_PASSWORD_STRENGTH, "create_strong_password", "why_strong_passwords_link", "why_strong_passwords_text");
	
	var dir_validator = new CPANEL.validate.validator("<cpanel Locale="maketext('Directory Path')">");
	dir_validator.add("homedir", "dir_path", "<cpanel langprint="validation_directory_paths">");
	dir_validator.attach();
	
	password_validators.push(login_validator, dir_validator);
	CPANEL.validate.attach_to_form("ftp_create_submit", password_validators);
	
	YAHOO.util.Event.on("login", "change", function() {
		YAHOO.util.Dom.get("homedir").value = "public_html/" + YAHOO.util.Dom.get("login").value;
		dir_validator.verify();
	});
	
	YAHOO.util.Dom.get("login").focus();
};
YAHOO.util.Event.onDOMReady(init_validation);
//]]>
</script>