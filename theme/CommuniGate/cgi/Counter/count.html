<cpanel setvar="dprefix=../../">
<html>
<head>
<style type="text/css">
<cpanel Branding="include(sprites.html)">
</style>
<title>X</title>
<script type="text/javascript" src="<cpanel MagicRevision="uri("/yui/utilities_container/utilities_container.js")">"></script>
<script type="text/javascript" src="js/color.js" ></script>
<script type="text/javascript" src="js/key.js" ></script>
<script type="text/javascript" src="<cpanel MagicRevision="uri("/yui/slider/slider.js")">"></script>


<style type="text/css">
    #ddPicker { position: absolute; background-color: #eeeeee; top: 200px; left: 200px; width: 360px; height: 240px; }
    #ddPicker input { font-size: .85em }
    #pickerHandle { background-color: #bbbbbb; height: 10px; cursor: move; }
    #hueThumb { cursor:default; width:18px; height:18px; z-index: 9; position:absolute; }
    #hueBg {-moz-outline: none; outline:0px none; position:absolute; left:216px; height:198px; width:18px; background:url(img/hue.png) no-repeat; top:18px; }
    #pickerDiv {-moz-outline: none; outline:0px none; position:absolute; left:10px; height:187px; width:188px; background-color:#FF0000; top:20px; }
    #pickerbg { position:absolute; z-index: 1; top:0px; left:0px; } 
    #selector { cursor:default; width:11px; height:11px; z-index: 9; position:absolute; top:0px; left:0px; }
    #valdiv { text-align:right; position:absolute; top: 86px; left:246px; } 
    #swatch { position:absolute; left:260px; top:30px; height:60px; width:60px; border:2px solid #aaaaaa; }
</style>


<script type="text/javascript">
var boxishidden = 1;
var thisR;
var thisG;
var thisB;
var hue;
var picker;
var gLogger = {debug: function(){}};
var dd;
var pickerSize=180;
var Slider=YAHOO.widget.Slider;
var Color=YAHOO.util.Color;
var Dom=YAHOO.util.Dom;

function init() {
    
    hue = Slider.getVertSlider("hueBg", "hueThumb", 0, pickerSize);
    hue.subscribe("change", hueUpdate);

    picker = Slider.getSliderRegion("pickerDiv", "selector", 
            0, pickerSize, 0, pickerSize);
    picker.subscribe("change", pickerUpdate);

    panel = new YAHOO.util.DD("ddPicker");
    panel.setHandleElId("pickerHandle");

    hidepicker();
}


function pickerUpdate(newOffset) {
    if (ishidden()) { return; }
    swatchUpdate();
}

function hueUpdate(newVal) {
    if (ishidden()) { return; }
    var rgb = Color.hsv2rgb(getH(), 1, 1);
    var styleDef = "rgb(" + rgb.join(",") + ")";
    Dom.setStyle("pickerDiv", "background-color", styleDef);

    swatchUpdate();
}
function setH(hval) {
    if (ishidden()) { return; }
    var newhue = (-1 * (( (hval / 360) * pickerSize) - pickerSize));
    hue.setValue( parseInt(newhue) );
}
function setSV(sval,vval) {
    if (ishidden()) { return; }
    var news = (sval * pickerSize);
    var newv = (vval * pickerSize);
    //this function calls t.initPageX and this is bad
    //picker.setRegionValue( parseInt(news), parseInt(newv) , 0, 1);
}

function getH() {
    if (ishidden()) { return; }
    var h = (pickerSize - hue.getValue()) / pickerSize;
    h = Math.round(h*360);
    return (h == 360) ? 0 : h;
}
function getS() {
    if (ishidden()) { return; }
    return picker.getXValue() / pickerSize;
}
function getV() {
    if (ishidden()) { return; }
    return (pickerSize - picker.getYValue()) / pickerSize;
}

function swatchUpdate() {
    if (ishidden()) { return; }
    var h=getH(), s=getS(), v=getV();
    if (isNaN(h) || isNaN(s) || isNaN(v)) { alert("Invalid Data!"); return; }

    Dom.get("hval").value = h;
    Dom.get("sval").value = Math.round(s*100);
    Dom.get("vval").value = Math.round(v*100);

    var rgb = Color.hsv2rgb(h, s, v);

    var styleDef = "rgb(" + rgb.join(",") + ")";
    Dom.setStyle("swatch", "background-color", styleDef);

    Dom.get("rval").value = rgb[0];
    Dom.get("gval").value = rgb[1];
    Dom.get("bval").value = rgb[2];

    Dom.get("hexval").value = Color.rgb2hex(rgb[0], rgb[1], rgb[2]);

    if (thisR!=null) {
        thisR.value=rgb[0];
        thisG.value=rgb[1];
        thisB.value=rgb[2];
    }
}

YAHOO.util.Event.on(window, "load", init);

function doincrease(ele) {
    elec=ele.value;
    if (elec<=254) {
        ele.value = ++elec;
    }
    else {
        ele.value = 255;
    }
}

function dodecrease(ele) {
    // Limits timeout value to  a minimum of 1000 (about 1 second).
    elec=ele.value;
    if (elec>=1) {
        ele.value= --elec;
    }
    else {
        ele.value = 0;
    }
}

function fixallcolors(){
    fixset1();fixset2();fixset3();
}

function fixset1(){
    fixmaxmin(document.counterform.fred);fixmaxmin(document.counterform.fgreen);fixmaxmin(document.counterform.fblue);
}

function fixset2(){
    fixmaxmin(document.counterform.sred);fixmaxmin(document.counterform.sgreen);fixmaxmin(document.counterform.sblue);
}

function fixset3(){
    fixmaxmin(document.counterform.rred);fixmaxmin(document.counterform.rgreen);fixmaxmin(document.counterform.rblue);
}

function fixmaxmin(ele){
    if (ele.value<0) { ele.value = 0 };
    if (ele.value>255) { ele.value = 255 };
}


function showpicker() {
    setp(10);
    document.getElementById('ddPicker').style.top=200;
    document.getElementById('ddPicker').style.left=200;
    box_ishidden=0;

}

function setp(value) {
    document.getElementById('ddPicker').style.opacity = value/10;
    document.getElementById('ddPicker').style.filter = 'alpha(opacity=' + value*10 + ')';
}


function hidepicker() {
    setp(0);
    document.getElementById('ddPicker').style.top=-500;
    document.getElementById('ddPicker').style.left=-500;
    box_ishidden=1;   
}

function ishidden() {
    return box_ishidden;
}

function colorpreview(r,g,b){
    showpicker();
    
    fixallcolors();
    
    thisR=r;thisB=b;thisG=g;
    
    var hsv = Color.rgb2hsv(r.value*1,g.value*1,b.value*1);
    setH(hsv.h);
    setSV(hsv.s,hsv.v/255);
    
    swatchUpdate(0);
}

//function hex(num) cut from http://www.hofstra.edu/~jlevine2/javascript/color.html
function hex(num) {
    var hexnum = "";
    var digit1 = 0;
    var digit2 = 0;
    while (num > 15) {
        num -= 16;
        digit1 += 1;
    }
    digit2 = num;
    if (digit1 > 9) {
        if (digit1 == 10) {
            hexnum = "A"
        }
        else if (digit1 == 11) {
            hexnum = "B"
        }
        else if (digit1 == 12) {
            hexnum = "C"
        }
        else if (digit1 == 13) {
            hexnum = "D"
        }
        else if (digit1 == 14) {
            hexnum = "E"
        }
        else if (digit1 == 15) {
            hexnum = "F"
        }
    }
    else {
        hexnum = hexnum + digit1;
    }

    if (digit2 > 9) {
        if (digit2 == 10) {
            hexnum = hexnum + "A"
        }
        else if (digit2 == 11) {
            hexnum = hexnum + "B"
        }
        else if (digit2 == 12) {
            hexnum = hexnum + "C"
        }
        else if (digit2 == 13) {
            hexnum = hexnum + "D"
        }
        else if (digit2 == 14) {
            hexnum = hexnum + "E"
        }
        else if (digit2 == 15) {
            hexnum = hexnum + "F"
        }
    }
    else {
        hexnum = hexnum + digit2;
    }
    return hexnum;
}

function rgb (red, green, blue) {
    var rgbstring = "";
    rgbstring = hex(red) + hex(green) + hex(blue);
    return rgbstring;
}
// Deactivate Cloaking
</script>
<!--<link rel="stylesheet" href="../../style.css">-->
<link rel="stylesheet" type="text/css" href="<cpanel MagicRevision="uri("css/combined_optimized.css")">">
<link rel="stylesheet" type="text/css" href="<cpanel MagicRevision="uri("css/cgi.css")">">
</head>

<body id="bodySub" class="top">

    <table class="subTable" width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td valign="top" align="left" class="subTMain">

       <!-- <div id="pin2nav">
            <a href="#" onclick="PinItemToNav(); return false;"><img src="../../images/pin16.gif" width="16" height="16" border="0" /><cpanel langprint="MENUPinNav"></a>    
        </div>-->
    <h1>
     <cpanel langprint="CNTHead">
      </h1>

<form name="counterform" action="docode.html" target="code">
<table width="600" border="0" align="center" cellpadding="5" cellspacing="1" class="formtbl">
  <tr class="info-odd">
    <td colspan="3"><h2><cpanel langprint="CDConfig"></h2></td>
  </tr>
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Please select functionality:')"> </strong></td>
  </tr>
  <tr class="info-even">
    <td>
    <input type="radio" checked name="type" value="Counter" />
  <cpanel langprint="CNT"></td>
    <td>
      <input type="radio" name="type" value="Clock" />
    <cpanel langprint="CNTClock"></td>
    <td>
      <input type="radio" name="type" value="Date" />
    Date </td>
  </tr>
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Please select time zone:')"> </strong></td>
  </tr>
  <tr class="info-even">
    <td colspan="3"><select name="timezone" size="1">
        <option value="GMT-0000">GMT-0000</option>
        <option>GMT-0100</option>
        <option value="GMT-0200">GMT-0200</option>
        <option value="GMT-0300">GMT-0300</option>
        <option value="GMT-0400">GMT-0400</option>
        <option selected value="GMT-0500">GMT-0500</option>
        <option>GMT-0600</option>
        <option>GMT-0700</option>
        <option>GMT-0800</option>
        <option>GMT-0900</option>
        <option value="GMT-1000">GMT-1000</option>
        <option value="GMT-1100">GMT-1100</option>
        <option value="GMT-1200">GMT-1200</option>
        <option value="GMT+0100">GMT+0100</option>
        <option value="GMT+0200">GMT+0200</option>
        <option>GMT+0300</option>
        <option value="GMT+0400">GMT+0400</option>
        <option value="GMT+0500">GMT+0500</option>
        <option value="GMT+0600">GMT+0600</option>
        <option value="GMT+0700">GMT+0700</option>
        <option>GMT+0800</option>
        <option value="GMT+0900">GMT+0900</option>
        <option value="GMT+1000">GMT+1000</option>
        <option value="GMT+1100">GMT+1100</option>
        <option value="GMT+1200">GMT+1200</option>
          </select>
    <cpanel Locale="maketext('Time Zone \(for clock GMT-0500 is EST\)')"></td>
  </tr>

  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Please select Format:')"> </strong></td>
  </tr>
  <tr class="info-even">
    <td><cpanel Locale="maketext('Time Format')"> 
      <select name="timeformat" size="1">
        <option selected value="12">12</option>
        <option value="24">24</option>
      </select></td>
    <td><cpanel Locale="maketext('Date Format')"> 
      <select name="dateformat" size="1">
        <option selected value="MMDDYY">MMDDYY</option>
        <option value="DDMMYY">DDMMYY</option>
        <option value="YYDDMM">YYDDMM</option>
        <option value="DDYYMM">DDYYMM</option>
        <option value="YYMMDD">YYMMDD</option>
        <option>MMYYDD</option>
      </select></td>
    <td><cpanel Locale="maketext('Frame Thickness')">
        <input type="text" size="2" name="framethickness" value="6" />
     
    <map name="plusminus0">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.framethickness)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.framethickness)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus0" /> </td>
  </tr>
  
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Please select Frame Color:')"> </strong></td>
  </tr>
  <tr class="info-even">
    <td colspan="3"><cpanel Locale="maketext('Frame Color Red')"> 
    <input type="text" size="3" name="fred" value="100" />
     
    <map name="plusminus1">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.fred)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.fred)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus1" />   <cpanel Locale="maketext('Green')"> 
    <input type="text" size="3" name="fgreen" value="139" />
    <map name="plusminus2">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.fgreen)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.fgreen)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus2" />   <cpanel Locale="maketext('Blue')"> 
    <input type="text" size="3" name="fblue" value="216" />
    <map name="plusminus3">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.fblue)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.fblue)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus3" />  <a href="javascript:colorpreview(document.counterform.fred,document.counterform.fgreen,document.counterform.fblue)"> <img src="icon_colorpicker.gif" align="absmiddle" border="0" /></a> </td>
  </tr>
  
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Please select Maximum digits:')"></strong></td>
  </tr>
  <tr class="info-even">
    <td colspan="3"><cpanel Locale="maketext('Max Digits')">
      <select name="maxdigits" size="1">
        <option selected value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
      </select></td>
  </tr>
  
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Please Select Style:')"> </strong></td>
  </tr>
  <tr class="info-even">
    <td colspan="3"><cpanel Locale="maketext('Style')"> <a href="digits.html" target="newwindow"><cpanel Locale="maketext('\(See Styles\)')"></a>
      <select name="style" size="1">
        <option selected value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
        <option value="D">D</option>
        <option value="E">E</option>
        <option value="F">F</option>
        <option value="G">G</option>
        <option value="H">H</option>
        <option value="I">I</option>
        <option value="J">J</option>
        <option value="K">K</option>
        <option value="L">L</option>
        <option value="M">M</option>
        <option value="N">N</option>
        <option value="O">O</option>
        <option value="P">P</option>
        <option value="Q">Q</option>
        <option value="R">R</option>
        <option value="S">S</option>
        <option value="T">T</option>
        <option value="U">U</option>
        <option value="V">V</option>
        <option value="W">W</option>
        <option value="X">X</option>
        <option value="Y">Y</option>
        <option value="Z">Z</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
      </select></td>
  </tr>
  
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Counter Name')"></strong></td>
  </tr>
  <tr class="info-even">
    <td colspan="3"><input size="10" maxlength="40" name="name" value="<cpanel print="$ENV{'REMOTE_USER'}">"></td>
  </tr>
 
  <tr class="info-odd">
    <td colspan="3"><strong><cpanel Locale="maketext('Color Replacer \(e.g. replace one color with another\)')"></strong></td>
  </tr>
  <tr class="info-even">
    <td colspan="3"><cpanel Locale="maketext('Source Color Red')">
    <input type="text" size="3" name="sred" value="0" />
    <map name="plusminus4">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.sred)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.sred)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus4" />   <cpanel Locale="maketext('Green')"> 
    <input type="text" size="3" name="sgreen" value="0" />
    <map name="plusminus5">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.sgreen)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.sgreen)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus5" />   <cpanel Locale="maketext('Blue')"> 
    <input type="text" size="3" name="sblue" value="0" />
    <map name="plusminus6">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.sblue)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.sblue)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus6" />  <a href="javascript:colorpreview(document.counterform.sred,document.counterform.sgreen,document.counterform.sblue)"> <img src="icon_colorpicker.gif" align="absmiddle" border="0" /></a> <a href="javascript:colorpreview(document.counterform.sred,document.counterform.sgreen,document.counterform.sblue)"></a> </td>
  </tr>
  <tr class="info-odd">
    <td colspan="3"><cpanel Locale="maketext('Replacement Color Red')"> 
    <input type="text" size="3" name="rred" value="0" />
    <map name="plusminus7">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.rred)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.rred)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus7" />   <cpanel Locale="maketext('Green')"> 
    <input type="text" size="3" name="rgreen" value="0" />
    <map name="plusminus8">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.rgreen)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.rgreen)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus8" />   <cpanel Locale="maketext('Blue')"> 
    <input type="text" size="3" name="rblue" value="0" />
    <map name="plusminus9">
      <area shape="RECT" coords="0, 9, 9, 16" href="javascript:dodecrease(document.counterform.rblue)" />
      <area shape="RECT" coords="0, 0, 9, 9" href="javascript:doincrease(document.counterform.rblue)" />
    </map>
    <img src="plusminus.gif" border="0" width="8" height="14" usemap="#plusminus9" />  <a href="javascript:colorpreview(document.counterform.rred,document.counterform.rgreen,document.counterform.rblue)"> <img src="icon_colorpicker.gif" align="absmiddle" border="0" /></a> <a href="javascript:colorpreview(document.counterform.rred,document.counterform.rgreen,document.counterform.rblue)"></a> </td>
  </tr>
  <tr class="info-even">
    <td colspan="3">&nbsp;</td>
    </tr>
  <tr class="info-odd">
    <td colspan="3"><div align="center">
        <input  type="Submit" class="input-button" name="preview" value="<cpanel langprint="Preview">" border="0">
        <input  type="Submit" class="input-button" name="html" value="<cpanel langprint="HTML">" border="0">
    </div></td>
  </tr>
</table>
</form>  
<div align="center">
<form target="code" method="post" action="http://<cpanel print="$CPDATA{'DNS'}">/cgi-sys/countedit.cgi">

    <table width="600" border="0" cellpadding="5" cellspacing="1" class="formtbl">
      <tr class="info-odd">
        <td colspan="2"><h2><strong><cpanel Locale="maketext('Edit/Reset a Counter')"></strong></h2></td>
      </tr>
      <tr class="info-even">
        <td><cpanel Locale="maketext('Counter Name')"> (no .dat):</td>
      <td><input size="10" maxlength="40" name="name" value="<cpanel print="$ENV{'REMOTE_USER'}">"></td>
    </tr>
      <tr class="info-odd">
        <td> <cpanel Locale="maketext('New Count:')"></td>
      <td><input type="text" name="num" value="0" /></td>
    </tr>
      <tr class="info-even">
        <td colspan="2"><input type="submit" class="input-button" value="<cpanel langprint="CommitChanges">"></td>
      </tr>
      </table>

</form>  </div>


<div id="ddPicker">
    <div id="pickerHandle"><img onclick="hidepicker();thisR=null;fixallcolors();" src="img/close.gif" style="cursor:hand;cursor:pointer;float:right"></div>
    <div id="pickerDiv" tabindex="-1" hidefocus="true">
      <img id="pickerbg" src="img/pickerbg.png" alt="" />
      <div id="selector"><img src="img/select.gif" /></div> 
    </div>

     <div id="hueBg" tabindex="-1" hidefocus="true">
      <div id="hueThumb"><img src="img/hline.png" /></div> 
    </div> 

    <div id="valdiv">
        <form name="rgbform">
        <br />
        R <input autocomplete="off" name="rval" id="rval" type="text" value="0" size="3" maxlength="3" />

        H <input autocomplete="off" name="hval" id="hval" type="text" value="0" size="3" maxlength="3" />
        <br />
        G <input autocomplete="off" name="gval" id="gval" type="text" value="0" size="3" maxlength="3" />
        S <input autocomplete="off" name="gsal" id="sval" type="text" value="0" size="3" maxlength="3" />
        <br />
        B <input autocomplete="off" name="bval" id="bval" type="text" value="0" size="3" maxlength="3" />
        V <input autocomplete="off" name="vval" id="vval" type="text" value="0" size="3" maxlength="3" />

        <br />
        <br />
        # <input autocomplete="off" name="hexval" id="hexval" type="text" value="0" size="6" maxlength="6" />
        <br />

        </form>
    </div>

    <div id="swatch">&nbsp;</div>

</div>

</td></tr></table>
</body>
</html>
