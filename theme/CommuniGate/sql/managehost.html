<cpanel setvar="headerimg=../images/topmysql.gif">
<cpanel setvar="dprefix=../">
<cpanel setvar="headerinclude=sql/index_head.html">
<cpanel Branding="include(stdheader.html)">
<div class="body-content">   

<script type="text/javascript">
	//<![CDATA[


function register_validators() {
 
    register_validator('nomatch','empty',[document.mainform.host],'<cpanel langprint="SQLMsgAHost">'); 
	register_validator('match','wildhostsql',[document.mainform.host],'<cpanel langprint="SQLWildHost">'); 
   
    realtime_validate_init('mainform');
}
// YAHOO.util.Event.addListener(window, "load", register_validators, false);

	var check_host = function() {

		var host_name = document.getElementById('host').value;

		// value can't be null
		if (host_name == '' ) return false; 

		// RE from original validate.js ( allow %, word (alphanum and _), periods and dashes)
		if ( /^[\%\w\.\-]+$/.test ( host_name ) ) return true ;

		return false;
	}


	var init = function() {
		
		var validation = new CPANEL.validate.validator("<cptext "Remote Database Hosts">");
		validation.add('host', check_host, '<cpanel langprint="SQLWildHost">');

		validation.attach();

		CPANEL.validate.attach_to_form("submit-button", validation);
	};

	YAHOO.util.Event.onDOMReady(init);

	//]]>
</script>	

<div class="h1Title">
	<div class="spriteicon_img_mini" id="icon-mysql_mini"></div> 
	<cpanel langprint="SQLRemoteDBAcc">
</div>
<p class="description">
	<cpanel langprint="MYSQLRemDesc"></p>
	<h2> <cpanel langprint="SQLAddAccessHostsHead"> </h2>
</p>

<form action="addhost.html" name="mainform" id="mainform" >
	<p> 
		<cpanel langprint="SQLAddAccessHostText"> 
		<input type="text" name="host" id="host">
		<input id="submit-button" type=submit value="<cpanel langprint="SQLAddHostBut">" class="input-button">
		<span id="host_error" ></span>
	</p>
</form>

<br /><br />

	<table border="0" width="90%" cellpadding="0" cellspacing="0" id="sqltbl" class="sortable">

     <colgroup>
	 	<col width="50%" />
		<col width="50%" />
	 </colgroup>
      <tr>
        <th scope="col"><cpanel langprint="SQLAccessHostsHead"></th>
        <th nonsortable="true" scope="col"><cpanel langprint="RedirectRemove"></th>
      </tr>
      <tbody>
      <?cp MysqlFE::listhosts(  

    [tr class="row-%"]

          [td][div align="center"]%[/div][/td]
          [td][div align="center"][a href="delhostconfirm.html?host=%"] [img src="../images/delete_x.gif" alt="$LANG{'Delete'}" border="0"][/a][/div][/td]
        [/tr] 

,*num,host,^host) || [tr][td colspan="2" class="errors"]$LANG{'SQLNoAccessHost'}[/td][/tr] ?>
      </tbody>
    </table>
</div>
</div>
<cpanel Branding="include(stdfooter.html)">
