var docroot_dialog;var start_change_docroot=function(g,e,b,d){if(!docroot_dialog){var i=function(){this.cancel()};var h=function(){var m=document.getElementById("change_docroot_domaintxt").innerHTML;var l=function(q){if(parseInt(q[0].result)){docroot_dialog.hide();var n=q[0].reldir;var o=document.getElementById(m+"_lnk");var p=o.href.split("?");p[1]="dir="+encodeURIComponent(n);o.href=p.join("?");CPANEL.util.set_text_content(o,"/"+n);waitpanel.hide();alert("Document Root Updated")}else{waitpanel.hide();docroot_dialog.show();alert(q[0].reason)}};show_loading(m,"Updating Document Root");docroot_dialog.hide();cpanel_jsonapi2(l,"SubDomain","changedocroot","rootdomain",document.getElementById("change_docroot_rootdomain").value,"subdomain",document.getElementById("change_docroot_subdomain").value,"dir",document.getElementById("change_docroot_dir").value)};docroot_dialog=new YAHOO.widget.Dialog("docroot_panel",{width:"450px",fixedcenter:true,visible:false,postmethod:"manual",constraintoviewport:true,buttons:[{text:"Change",handler:h,isDefault:true},{text:"Cancel",handler:i}]});docroot_dialog.submitEvent.subscribe(h);docroot_dialog.validate=function(){return CPANEL.validate.dir_path(this.form.docroot.value)};document.getElementById("docroot_panel").style.display="";docroot_dialog.render();var f=new CPANEL.validate.validator(LANG.ftp_directory_path);f.add(docroot_dialog.form.docroot,"dir_path",LANG.validation_directory_paths);f.attach();docroot_dialog.showEvent.subscribe(f.verify,f,true)}CPANEL.util.set_text_content(document.getElementById("change_docroot_domaintxt"),g);document.getElementById("change_docroot_subdomain").value=e;document.getElementById("change_docroot_rootdomain").value=b;var c=document.getElementById(g+"_lnk");var a=c.href.split("?");var j=decodeURIComponent(a[1]).split("=");d=j[1];d=d.replace(/^\//,"");var k=document.getElementById("change_docroot_dir");k.value=d;docroot_dialog.show()};function trapEnterPress(b){var a=(window.event?window.event.keyCode:b.which);return(a!=13)};