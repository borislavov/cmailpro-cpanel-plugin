var optionselectpanel;var inited_optionselect=0;var optionselect_off=1;var currentoption;var submitwait=0;var optionsubmit_ok=0;for(var opname in optionselect_list){register_interfacecfg_nvdata("optionselect_"+opname)}function optionselect_init(){optionselectpanel=new YAHOO.widget.Panel("optionselect_win",{effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25},fixedcenter:true,constraintoviewport:true,underlay:"none",close:true,visible:false,draggable:true,modal:false});optionselectpanel.render();optionselectpanel.beforeHideEvent.subscribe(handle_hide_optionselect,optionselectpanel,true);inited_optionselect=1;for(var a in optionselect_images){document.getElementById("postloadimg_"+a).src=optionselect_images[a]}}function handle_hide_optionselect(b){var c=document.getElementById("optionselect-content");if(!c){alert("The 'optionselect-content' id is missing")}var a=document.getElementById("optionselect_win");c.style.display="none";a.style.display="none"}function build_optionform(d,a,c){var e=optionselect_list[d];if(a=="homedir"){document.getElementById("optionselect_dir").value=homedir}else{if(a=="webroot"){document.getElementById("optionselect_dir").value=homedir+"/public_html"}else{if(a=="ftproot"){document.getElementById("optionselect_dir").value=homedir+"/public_ftp"}}}var b=document.getElementById("optionselect_form");b.action=e.url;b.target=e.target}function getoptionselectval(){var a=document.getElementById("optionselect_form").dirselect;if(a[0].checked){return"homedir"}else{if(a[1].checked){return"webroot"}else{if(a[2].checked){return"ftproot"}else{if(a[3].checked){return"domainrootselect"}}}}return"webroot"}function getoptionselectdomain(){var a=document.getElementById("optionselect_domainselect");return a.options[a.selectedIndex].value}function getoptionname(){return currentoption}function submit_option_form_handler(b){var c=optionselect_list[b];if(c.target==""){window.location.href=c.url+"?dir="+document.getElementById("optionselect_dir").value}else{var a=document.getElementById("optionselect_form");a.submit()}}function updatedir_fromdomain(){var a=getoptionselectdomain();document.getElementById("optionselect_go").disabled=true;document.getElementById("optionselect_go").className="input-button-disabled";cpanel_api2(docrootcallback,"DomainLookup","getdocroot","domain",a)}function save_optionselect_form(d){var a=getoptionselectval();var c=getoptionname();var b=getoptionselectdomain();if(!d){SetNvData("optionselect_"+c,a+":"+b+":"+(document.getElementById("optionselect_saved").checked?1:0)+":"+(document.getElementById("optionselect_showhidden").checked?1:0))}}function submitoptionform(d){var a=getoptionselectval();var c=getoptionname();var b=getoptionselectdomain();build_optionform(c,a,b);var e=optionselect_list[c];if(e.target==""){SetCookie("showdotfiles",(document.getElementById("optionselect_showhidden").checked?1:0));optionselectpanel.hide();window.location.href=e.url+"?dir="+document.getElementById("optionselect_dir").value;return false}else{SetCookie("showdotfiles",(document.getElementById("optionselect_showhidden").checked?1:0));if(d){document.getElementById("optionselect_form").submit()}optionselectpanel.hide();return true}}function docrootcallback(a){var c=homedir;var b=a[0].getElementsByTagName("docroot")[0];if(b.firstChild){c=b.firstChild.nodeValue}if(!c){c=homedir}document.getElementById("optionselect_dir").value=c;document.getElementById("optionselect_go").disabled=false;document.getElementById("optionselect_go").className="input-button";save_optionselect_form()}function show_optionselect(g){var f=NVData["optionselect_"+g];var j=(f.split(":"))[0];var c=(f.split(":"))[1];var a=(f.split(":"))[2];var e=(f.split(":"))[3];currentoption=g;if(self.checkFAA){checkFAA()}var h=document.getElementById("optionselect-content");if(!h){alert("The 'optionselect-content' id is missing")}if(!YAHOO.util.Dom.hasClass(h,"mainpopbg")){h.className="mainpopbg content"}var b=document.getElementById("optionselect_win");b.style.display="block";h.style.display="block";if(inited_optionselect!=1){optionselect_init()}optionselectpanel.show();b.style.width=h.offsetWidth+6;b.style.height=h.offsetHeight+8;var k=optionselect_list[g];var l=k.show;for(var d=0;d<l.length;d++){document.getElementById("optionselect_"+l[d]).style.display=""}document.getElementById("optionselect_namehdr").innerHTML=k.name;document.getElementById("optionselect_namecheck").innerHTML=k.name;restore_optionform(g,j,a,e,c);if(a=="1"||optionselect_autogo){submitoptionform(1);return}}function restore_optionform(g,e,b,a,f){var h=document.getElementById("optionselect_form").dirselect;if(e=="homedir"){h[0].checked=true}else{if(e=="webroot"){h[1].checked=true}else{if(e=="ftproot"){h[2].checked=true}else{if(e=="domainrootselect"){h[3].checked=true}else{h[1].checked=true}}}}var d=document.getElementById("optionselect_domainselect");for(var c=0;c<d.options.length;c++){if(d.options[c].value==f){d.selectedIndex=c}}if(b=="1"){document.getElementById("optionselect_saved").checked=true}else{document.getElementById("optionselect_saved").checked=false}if(a=="1"){document.getElementById("optionselect_showhidden").checked=true}else{document.getElementById("optionselect_showhidden").checked=false}if(e=="domainrootselect"){updatedir_fromdomain()}}function enable_optionselect(){optionselect_on=1}YAHOO.util.Event.onDOMReady(enable_optionselect);