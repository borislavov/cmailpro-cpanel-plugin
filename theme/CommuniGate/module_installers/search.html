<cpanel setvar="dprefix=../">
<cpanel Branding="include(stdheader.html)">
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" title="<cpanel Locale="maketext('Default')">" charset="utf-8" />
<script type="text/javascript">
	truncate_on = 1;
	truncate_wrap = 1;
	truncate_tooltips = 0;
	ajaxloader_on = 1;
	register_truncate_table('searchtbl');
</script>
<div class="body-content">

<h1><cpanel include="mini_icon.html">
<?cp LangMods::getkey(%,key) key=names,lang=$FORM{'lang'} ?>

	<cpanelif $FORM{'searchtype'}==0>
		 <cpanel langprint="module_available_install">
	</cpanelif>
    <cpanelif !$FORM{'searchtype'}==0>

        <cpanel langprint="module_search_results"> "<strong><cpanel print="$FORM{'searchterm'}"></strong>"
	</cpanelif>
</h1>
<cpanelif !$FORM{'searchtype'}==0>
<table width="720" id="searchtbl" class="sortable truncate-table" border="0" cellspacing="0" cellpadding="0" style="margin-left:-15px;">
</cpanelif>
<cpanelif $FORM{'searchtype'}==0>
<table width="720" id="searchtbl" class="sortable truncate-table" border="0" cellspacing="0" cellpadding="0" style="margin-left:-15px;">
</cpanelif>
	<tr>
		<th><cpanel langprint="module_name"></th>
		<th><cpanel langprint="module_description"></th>
		<th nonsortable="true"><cpanel langprint="Actions"></th>
	</tr>

	<cpanelif $FORM{'searchtype'}==0>
 <?cp LangMods::list_available(
    [tr]
        [td class="cell truncate" truncate="25"]%&nbsp;\{leftparenthesis}%\{rightparenthesis}[/td]
        [td class="cell truncate" truncate="75"]%[/td]
        [td nowrap]
            [a href="live_install.html?lang=$FORM{'lang'}&mod=%" class="create-button"]$LANG{'module_install_text'}[/a]
            [a href="%" target="_blank" class="create-button"]$LANG{'module_show_docs'}[/a]
        [/td]
    [/tr]
,module,latest,info,module,docurl) lang=$FORM{'lang'},regex=$FORM{'searchterm'},want=100,skip=$FORM{'skip'} || '[tr][td colspan=4]$LANG{'module_fetch_problem'}[/td][/tr]' ?>
</cpanelif>
<cpanelif $FORM{'searchtype'}==1>
<?cp LangMods::search(
    [tr]
        [td class="cell truncate" truncate="25"]%&nbsp;\{leftparenthesis}%\{rightparenthesis}[/td]
        [td class="truncate" truncate="75"]%[/td]
        [td nowrap]
            [a href="live_install.html?lang=$FORM{'lang'}&mod=%" class="create-button"]$LANG{'module_install_text'}[/a]
            [a href="%" target="_blank" class="create-button"]$LANG{'module_show_docs'}[/a]
        [/td]
    [/tr]
,module,latest,info,module,docurl) lang=$FORM{'lang'},regex=$FORM{'searchterm'},want=100,skip=$FORM{'skip'} || '[tr][td colspan=4]$LANG{'module_no_modules'}[/td][/tr]' ?>
	</cpanelif>

</table>

<?cp UI::paginate(%,paginator) currentpage=$CPVAR{'currentpage'},pages=$CPVAR{'pages'},itemsperpage=$CPVAR{'itemsperpage'} ?>

<div id="search-module">
	<form action="search.html" method="get">
		<h4>
			<cpanel langprint="module_search_text">
<?cp LangMods::getkey(%,key) key=names,lang=$FORM{'lang'} ?>
		</h4>
		<p><label><cpanel langprint="module_search_text"></label> 
                <input type="hidden" name="lang" value="<cpanel print="$FORM{'lang'}">" /> 
                <input type="hidden" name="searchtype" value="1" />
<input name="searchterm" type="text" /> <input class="input-button" type="submit" value="<cpanel langprint="module_go">" /></p>
	</form>
</div>

<div class="return-link"><a href="main.html?lang=<cpanel print="$FORM{'lang'}">">&larr; <cptext "Go Back"></a></div>
</div>
<cpanel Branding="include(stdfooter.html)">
