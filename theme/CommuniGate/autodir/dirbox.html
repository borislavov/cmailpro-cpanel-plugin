<!-- start autodir/dirbox.html -->
<style type="text/css">
#dirmod {position:relative;padding:0em;display:inline;}
#dirautocomplete {position:relative;margin:0;width:100%;}/* set width of widget here*/
#dirinput {position:absolute;width:100%;height:1.6em;}
#dircontainer .yui-ac-content {position:absolute;width:100%;border:1px solid #404040;background:#fff;overflow:hidden;z-index:9050;}
#dircontainer .yui-ac-shadow {position:absolute;margin:.3em;width:100%;background:#a0a0a0;z-index:9049;}
#dircontainer ul {margin: 2px; padding:1px 0;width:100%;}
#dircontainer li {padding:0 5px;cursor:default;white-space:nowrap;}
#dircontainer li.yui-ac-highlight {background:#ff0;}
</style>
<script type="text/javascript" src="<cpanel MagicRevision="uri(/yui/datasource/datasource.js)">"></script>
<script type="text/javascript" src="<cpanel MagicRevision="uri(/yui/autocomplete/autocomplete.js)">"></script>
<script type="text/javascript">
//<![CDATA[
var dirCompleter = function() {
	var oDir;
	var oAutoComp;

	return {
		init: function() {
			oDir = new YAHOO.widget.DS_XHR(CPANEL.security_token + "/frontend/<cpanel print="$CPDATA{'RS'}">/autodir/autocomplete.xml", 
			["file","name"]); 
			oDir.scriptQueryParam = "path"; 
			oDir.responseType = YAHOO.widget.DS_XHR.TYPE_XML; 
			oDir.maxCacheEntries = 256; 
			oDir.scriptQueryAppend = "dirsonly=<cpanel print="$CPVAR{'autodirsonly'}">";

			// Instantiate AutoComplete
			oAutoComp = new YAHOO.widget.AutoComplete('<cpanel print="$CPVAR{'autoinput'}">','dircontainer', oDir);
			oAutoComp.doBeforeExpandContainer = function(oTextbox, oContainer, sQuery, aResults) {
				var pos = YAHOO.util.Dom.getXY(oTextbox);
				pos[1] += YAHOO.util.Dom.get(oTextbox).offsetHeight;
				YAHOO.util.Dom.setXY(oContainer,pos);
				return true;
			};
		}
	};
}();

YAHOO.util.Event.onDOMReady(dirCompleter.init);
//]]>
</script>
<input type="text" size="30" name="<cpanel print="$CPVAR{'autoinput'}">" id="<cpanel print="$CPVAR{'autoinput'}">" onchange="<cpanel print="$CPVAR{'autofunc'}">(this)" /> <span id="<cpanel print="$CPVAR{'autoinput'}">_error"></span>
<div id="dircontainer"></div>
<!-- end autodir/dirbox.html -->
